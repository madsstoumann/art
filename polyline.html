<!DOCTYPE html>
<html lang="en-US" dir="ltr">
<head>
	<title>polyline</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
	<meta name="description" content="Generative art: polyline">
	<link href="art.css" rel="stylesheet" />
</head>
<body>
	<input type="checkbox" id="toggle" hidden />
	<label for="toggle" data-app-elm="toggle">
		<svg viewBox="0 0 24 24">
			<circle cx="14" cy="6" r="2" />
			<line x1="4" y1="6" x2="12" y2="6" />
			<line x1="16" y1="6" x2="20" y2="6" />
			<circle cx="8" cy="12" r="2" />
			<line x1="4" y1="12" x2="6" y2="12" />
			<line x1="10" y1="12" x2="20" y2="12" />
			<circle cx="17" cy="18" r="2" />
			<line x1="4" y1="18" x2="15" y2="18" />
			<line x1="19" y1="18" x2="20" y2="18" />
		</svg>
		<svg viewBox="0 0 24 24">
			<line x1="18" y1="6" x2="6" y2="18" />
			<line x1="6" y1="6" x2="18" y2="18" />
		</svg>
	</label>

	<svg data-app-elm="svg" id="svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 1000 1000" style="background-color:hsl(360, 50%, 50%)">
		<defs>
			<pattern id="circles" patternUnits="userSpaceOnUse" width="8" height="8">
				<circle fill="rgba(255,255,255,0.3)" cx="4" cy="4" r="1.5"></circle>
			</pattern>
			<pattern id="hstripes" patternUnits="userSpaceOnUse" width="8" height="6">
				<rect fill="rgba(255,255,255,0.3)" x="0" y="0" width="8" height="2"></rect>
			</pattern>
			<pattern id="vstripes" patternUnits="userSpaceOnUse" width="6" height="8">
				<rect fill="rgba(255,255,255,0.3)" x="0" y="0" width="2" height="8"></rect>
			</pattern>
		</defs>
		<g id="g"></g>
	</svg>

	<main>
		<form id="app" data-app="polyline">
			<details open>
				<summary>points & fill</summary>
				<div>
					<label>
						number of points
						<input type="range" id="numPoints" min="6" max="512" data-random />
					</label>
					<label>
						stroke-width
						<input type="range" id="strokeWidth" min="1" max="10" step="0.25" data-random />
					</label>
					<fieldset>
						<legend>fill</legend>
						<label data-app-elm="radio">
							<input type="radio" name="fillType" value="none" checked data-random>
							<span>none</span>
						</label>
						<label data-app-elm="radio">
							<input type="radio" name="fillType" value="color">
							<span>color</span>
						</label>
						<label data-app-elm="radio">
							<input type="radio" name="fillType" value="circles">
							<span>raster</span>
						</label>
						<label data-app-elm="radio">
							<input type="radio" name="fillType" value="hstripes">
							<span>horizontal stripes</span>
						</label>
						<label data-app-elm="radio">
							<input type="radio" name="fillType" value="vstripes">
							<span>vertical stripes</span>
						</label>
					</fieldset>
					<label data-app-elm="checkbox">
						<input type="checkbox" id="showCircles" data-random />
						<span>show circles</span>
					</label>
					<label data-app-elm="checkbox">
						<input type="checkbox" id="scaleCanvas" checked />
						<span>scale to canvas</span>
					</label>
				</div>
			</details>

			<details>
				<summary>color ranges</summary>
				<div>
					<label>
						hue min
						<input type="range" id="hueMin" min="0" max="360" data-random />
					</label>
					<label>
						hue max
						<input type="range" id="hueMax" min="0" max="360" data-random />
					</label>
					<label>
						saturation min
						<input type="range" id="satMin" min="0" max="100" data-suffix="%" data-random />
					</label>
					<label>
						saturation max
						<input type="range" id="satMax" min="0" max="100" data-suffix="%" data-random />
					</label>
					<label>
						lightness min
						<input type="range" id="lightMin" min="0" max="100" data-suffix="%" data-random />
					</label>
					<label>
						lightness max
						<input type="range" id="lightMax" min="0" max="100" data-suffix="%" data-random />
					</label>
					<label>
						custom color-array:
						<input type="text" id="colorArray" placeholder="#FFF|white|hsl(0,0%,100%)" />
					</label>
				</div>
			</details>

			<details>
				<summary>background / canvas</summary>
				<div>
					<label>
						hue
						<input type="range" id="hueBg" min="0" max="360" data-random data-attr />
					</label>
					<label>
						saturation
						<input type="range" id="satBg" min="0" max="100" data-suffix="%" data-random data-attr />
					</label>
					<label>
						lightness
						<input type="range" id="lightBg" min="0" max="100" data-suffix="%" data-random data-attr />
					</label>
					<label>
						canvas y:x ratio
						<input type="range" id="canvasRatio" min="25" max="150" value="100" />
					</label>
					<label>
						rotate
						<input type="range" min="0" max="359" value="0" id="rotate" data-attr />
					</label>
					<label>
						scale-x
						<input type="range" min="0.01" max="3" step="0.01" value="1" id="scaleX" data-attr />
					</label>
					<label>
						scale-y
						<input type="range" min="0.01" max="3" step="0.01" value="1" id="scaleY" data-attr />
					</label>
					<label>
						translate-x
						<input type="range" min="-1000" max="1000" value="0" id="translateX" data-attr />
					</label>
					<label>
						translate-y
						<input type="range" min="-1000" max="1000" value="0" id="translateY" data-attr />
					</label>
				</div>
			</details>

			<details>
				<summary>presets</summary>
				<div>
					<div id="presets"></div>
					<button type="button" onclick="savePreset()">Save preset</button>
				</div>
			</details>

			<details>
				<summary>export</summary>
				<div>
					<label data-value="1x">
						scale export (1x - 10x)
						<input type="range" min="1" max="10" value="1" id="scaleExport" data-suffix="x" data-ignore />
					</label>
					<fieldset>
						<legend>file format</legend>
						<label data-app-elm="radio">
							<input type="radio" name="fileFormat" value="svg" data-ignore>
							<span>svg</span>
						</label>
						<label data-app-elm="radio">
							<input type="radio" name="fileFormat" value="" data-ignore checked>
							<span>png</span>
						</label>
						<label data-app-elm="radio">
							<input type="radio" name="fileFormat" value="jpg" data-ignore>
							<span>jpg</span>
						</label>
						<label data-app-elm="radio">
							<input type="radio" name="fileFormat" value="webp" data-ignore>
							<span>webp</span>
						</label>
					</fieldset>
					<button type="button" onclick="saveFile(svg, app.elements.fileFormat.value)">Save To Image</button>
				</div>
			</details>
			<br />
			<button type="button" onclick="randomPreset()">Random!</button>
		</form>
	</main>

	<script src="assets/js/art.js"></script>
	<script>
		const preset = {
			numPoints: 15,
			strokeWidth: 2,
			showCircles: 1,
			hueMin: 0,
			hueMax: 0,
			satMin: 75,
			satMax: 75,
			lightMin: 80,
			lightMax: 80,
			hueBg: 360,
			satBg: 50,
			lightBg: 50
		}
		loadPreset(preset);
	</script>
</body>
</html>